<div class="auth-container">
  <div class="auth-card">
    <div class="auth-header">
      <h2>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
      <p>–°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã</p>
    </div>

    <form (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label>–ò–º—è</label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="registerData.name"
          name="name"
          placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è"
          required
        >
      </div>

      <div class="form-group">
        <label>Email</label>
        <input
          type="email"
          class="form-control"
          [(ngModel)]="registerData.email"
          name="email"
          placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email"
          required
        >
      </div>

      <div class="form-group">
        <label>–ü–∞—Ä–æ–ª—å</label>
        <div class="password-input">
          <input
            [type]="showPassword ? 'text' : 'password'"
            class="form-control"
            [(ngModel)]="registerData.password"
            name="password"
            placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å"
            required
          >
          <button type="button" class="password-toggle" (click)="togglePasswordVisibility()">
            {{ showPassword ? 'üëÅÔ∏è' : 'üëÅÔ∏è‚Äçüó®Ô∏è' }}
          </button>
        </div>
      </div>

      <div class="form-group">
        <label>–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
        <div class="password-input">
          <input
            [type]="showConfirmPassword ? 'text' : 'password'"
            class="form-control"
            [(ngModel)]="registerData.confirmPassword"
            name="confirmPassword"
            placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å"
            required
          >
          <button type="button" class="password-toggle" (click)="toggleConfirmPasswordVisibility()">
            {{ showConfirmPassword ? 'üëÅÔ∏è' : 'üëÅÔ∏è‚Äçüó®Ô∏è' }}
          </button>
        </div>
      </div>

      <div class="form-group">
        <label>–ò–Ω–≤–∞–π—Ç-–∫–æ–¥</label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="registerData.inviteCode"
          name="inviteCode"
          placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–Ω–≤–∞–π—Ç-–∫–æ–¥"
          (input)="onInviteCodeChange()"
          [class.valid]="codeValidationMessage?.includes('‚úÖ')"
          [class.invalid]="codeValidationMessage?.includes('‚ùå')"
          required
        >

        <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–æ–¥–∞ -->
        <div *ngIf="codeValidationMessage"
             class="code-validation-message"
             [class.code-valid]="codeValidationMessage.includes('‚úÖ')"
             [class.code-invalid]="codeValidationMessage.includes('‚ùå')"
             [class.code-checking]="codeValidationMessage.includes('üîç')">
          {{ codeValidationMessage }}
        </div>

        <small class="form-text">–í–≤–µ–¥–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∏–Ω–≤–∞–π—Ç-–∫–æ–¥</small>

        <!-- –ü–æ–¥—Å–∫–∞–∑–∫–∞ —Å –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –∫–æ–¥–∞–º–∏ -->
        <div *ngIf="availableCodes.length > 0" class="invite-code-hint">
          <p><strong>–ü—Ä–∏–º–µ—Ä—ã –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–¥–æ–≤:</strong></p>
          <div class="code-examples">
            <span *ngFor="let code of availableCodes" class="code-example">{{ code }}</span>
          </div>
        </div>
      </div>

      <div *ngIf="errorMessage" class="alert alert-error">
        {{ errorMessage }}
      </div>

      <button type="submit" class="btn btn-primary btn-block" [disabled]="isLoading">
        <span *ngIf="isLoading">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è...</span>
        <span *ngIf="!isLoading">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</span>
      </button>
    </form>

    <div class="auth-footer">
      <p>–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a (click)="goToLogin()">–í–æ–π–¥–∏—Ç–µ</a></p>
    </div>
  </div>
</div>
